---
title: "RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ êµ¬ì¶•í•˜ê¸°"
description: "RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ êµ¬ì¶•ì‘ì—…ì— ëŒ€í•œ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ìí•©ë‹ˆë‹¤."
date: 2025-11-30 +00:00:00
permalink: /posts/2025-11-30-rabbitmq/
mermaid: true
categories: [Blogging,rabbitmq]
---
## ì™œ í´ëŸ¬ìŠ¤í„°ë§ì„ êµ¬ì¶•í•˜ê²Œ ë˜ì—ˆë‚˜

í˜„ì¬ ì‹¤ë¬´ì—ì„œ ì•Œë¦¼ ì‹œìŠ¤í…œ [ì•„í‚¤í…ì²˜ë¥¼ ê°œì„ ](https://treestone94.github.io/posts/2025-03-11-architecture/)í•˜ê²Œ ë˜ë©´ì„œ RabbitMQ ë‹¨ì¼ ì„œë²„ê°€ ì¥ì•  ì‹œ ì•Œë¦¼ ì‹œìŠ¤í…œì˜ ë¦¬ìŠ¤í¬ê°€ í¬ê³  ì•ˆì •ì„±ì— ë¬¸ì œê°€ ìˆëŠ”ê±¸ë¡œ íŒë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ í™˜ê²½ì„ êµ¬ì¶•í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. êµ¬ì¶•í•˜ê²Œ ë˜ë©´ì„œ ì–´ë–¤ì ì„ ì¤‘ì ì ìœ¼ë¡œ ë³´ì•˜ëŠ”ì§€ ê³µìœ í• ë ¤ê³  í•©ë‹ˆë‹¤.


> ğŸ¤” RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ì´ ë­”ê°€ìš”?\
> ì—¬ëŸ¬ ëŒ€ì˜ RabbitMq ë…¸ë“œë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ë¸Œë¡œì»¤ì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê° ë…¸ë“œëŠ” ë©”íƒ€ë°ì´í„°ì™€ í ì •ë³´ë¥¼ ê³µìœ í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ëŠ” ì–´ëŠ ë…¸ë“œì— ì—°ê²°í•˜ë“  ë™ì¼í•œ íì™€ ìµìŠ¤ì²´ì¸ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## êµ¬ì¶•í•˜ë©´ ì´ì ì€?

### 1. **ê³ ê°€ìš©ì„± (High Availability)**

**ë‹¨ì¼ ë…¸ë“œ ì¥ì•  ëŒ€ì‘**

- í•œ ë…¸ë“œê°€ ë‹¤ìš´ë˜ì–´ë„ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ì„œë¹„ìŠ¤ ê³„ì† ì œê³µ
- í´ë¼ì´ì–¸íŠ¸ëŠ” ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì¬ì—°ê²° ê°€ëŠ¥
- ê³„íšëœ ìœ ì§€ë³´ìˆ˜ ì‹œ ë¬´ì¤‘ë‹¨ ë°°í¬ ê°€ëŠ¥

[**ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤**](https://treestone94.github.io/posts/2024-12-13-go/#rabbitmq-%EC%84%9C%EB%B2%84-%EB%8B%A4%EC%9A%B4-%EC%8B%9C-golang-%EC%9E%A5%EC%95%A0%EB%B3%B5%EA%B5%AC-%EB%A9%94%EC%BB%A4%EB%8B%88%EC%A6%98-%EC%A0%81%EC%9A%A9)

```
3ë…¸ë“œ í´ëŸ¬ìŠ¤í„°ì—ì„œ 1ê°œ ë…¸ë“œ ì¥ì•  ë°œìƒ
â†’ ë‚˜ë¨¸ì§€ 2ê°œ ë…¸ë“œë¡œ ì •ìƒ ì„œë¹„ìŠ¤ ìœ ì§€
â†’ ì¥ì•  ë…¸ë“œ ë³µêµ¬ í›„ ìë™ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì— ì¬í•©ë¥˜
```

### **2. ë°ì´í„° ë‚´êµ¬ì„± í–¥ìƒ**

[**ì¿¼ëŸ¼ í (Quorum Queue)**](https://treestone94.github.io/posts/2024-11-26-rabbitmq/#quorum)

RabbitMQ 3.8ë¶€í„° ë„ì…ëœ ì¿¼ëŸ¼ íëŠ” Raft í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ë¯¸ëŸ¬ë§ íë³´ë‹¤ í›¨ì”¬ ì•ˆì •ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë³µì œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**ì£¼ì˜ì‚¬í•­**

- ìµœì†Œ 3ê°œ ë…¸ë“œ í•„ìš” (ì¿¼ëŸ¼ í˜•ì„±ì„ ìœ„í•´)
- ë©”ì‹œì§€ ìš°ì„ ìˆœìœ„(priority)ëŠ” ì§€ì›í•˜ì§€ ì•ŠìŒ
- ë¹„ë…ì (non-exclusive) íë§Œ ê°€ëŠ¥
- ë¯¸ëŸ¬ë§ íì—ì„œ ì¿¼ëŸ¼ íë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ê³„íš í•„ìš”

### 3. **ë¶€í•˜ ë¶„ì‚°**

**ìë™ ë¡œë“œ ë°¸ëŸ°ì‹±**

- í´ë¼ì´ì–¸íŠ¸ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚° ì—°ê²°
- ê° íê°€ ë‹¤ë¥¸ ë…¸ë“œì— ìƒì„±ë˜ì–´ ë¶€í•˜ ë¶„ì‚°
- ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë¶„ì‚°

**ì„±ëŠ¥ íŠ¹ì„±**
ì‹¤ì œ ì²˜ë¦¬ëŸ‰ì€ í•˜ë“œì›¨ì–´ ì‚¬ì–‘, ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­, ë©”ì‹œì§€ í¬ê¸°, í¼ì‹œìŠ¤í„´ìŠ¤ ì„¤ì • ë“±ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

- **ì¿¼ëŸ¼ í**: ì•ˆì •ì„± ìš°ì„ , ì•½ê°„ì˜ ì²˜ë¦¬ëŸ‰ ê°ì†Œ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜ ì¼ê´€ëœ ì„±ëŠ¥
- **í´ë˜ì‹ í**: ë†’ì€ ì²˜ë¦¬ëŸ‰, ë‹¨ ë…¸ë“œ ì¥ì•  ì‹œ ë©”ì‹œì§€ ì†ì‹¤ ê°€ëŠ¥
- **ë³µì œ ì˜¤ë²„í—¤ë“œ**: ë³µì œ íŒ©í„°ê°€ ë†’ì„ìˆ˜ë¡ ì“°ê¸° ì„±ëŠ¥ ì €í•˜, ì½ê¸° ì„±ëŠ¥ í–¥ìƒ

```bash
# ì‹¤ì œ í™˜ê²½ì—ì„œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë„êµ¬
rabbitmq-perf-test -h rabbit1 -u test -p test \
  -x 1 -y 1 -z 60 \
  --queue-pattern 'perf-test-%d' \
  --queue-pattern-from 1 --queue-pattern-to 10
```

### 4. **ìˆ˜í‰ì  í™•ì¥ì„±**

**ë…¸ë“œ ì¶”ê°€ë¥¼ í†µí•œ í™•ì¥**

- íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ë…¸ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ìš©ëŸ‰ í™•ì¥
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ë³€ê²½ ì—†ì´ í™•ì¥ ê°€ëŠ¥
- ì ì§„ì  í™•ì¥ì´ ê°€ëŠ¥í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì 

### **5. ì¥ì•  ë³µêµ¬ ì‹œê°„ ë‹¨ì¶•**

ë‹¨ì¼ ë…¸ë“œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ ì¥ì•  ì‹œ ìˆ˜ë™ ë³µêµ¬ ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤

- ì¥ì•  ê°ì§€ ë° ì•ŒëŒ
- ì„œë²„ ì¬ì‹œì‘ ë˜ëŠ” êµì²´
- ë°ì´í„° ë¬´ê²°ì„± í™•ì¸
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì—°ê²°
- ì„œë¹„ìŠ¤ ì •ìƒí™” í™•ì¸

í´ëŸ¬ìŠ¤í„° í™˜ê²½(ì¿¼ëŸ¼ í ì‚¬ìš© ì‹œ)ì—ì„œëŠ” ìë™ í˜ì¼ì˜¤ë²„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ìë™ ì¥ì•  ê°ì§€**: Raft í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì´ ë…¸ë“œ ì¥ì• ë¥¼ ë¹ ë¥´ê²Œ ê°ì§€
- **ìë™ ë¦¬ë” ì„ ì¶œ**: ì¿¼ëŸ¼(ê³¼ë°˜ìˆ˜) ë…¸ë“œê°€ ì‚´ì•„ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ìƒˆ ë¦¬ë” ì„ ì¶œ
- **ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤**: í´ë¼ì´ì–¸íŠ¸ëŠ” ë‹¤ë¥¸ ë…¸ë“œë¡œ ìë™ ì¬ì—°ê²°
- **ë°ì´í„° ë¬´ì†ì‹¤**: ì¿¼ëŸ¼ì— ì»¤ë°‹ëœ ë©”ì‹œì§€ëŠ” ë³´ì¡´

### 6. **Rolling Upgrade ê°€ëŠ¥**

í´ëŸ¬ìŠ¤í„° í™˜ê²½ì—ì„œëŠ” ë¬´ì¤‘ë‹¨ ì—…ê·¸ë ˆì´ë“œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤

```bash
# ë…¸ë“œ 1 ì—…ê·¸ë ˆì´ë“œ
rabbitmqctl stop_app
# íŒ¨í‚¤ì§€ ì—…ê·¸ë ˆì´ë“œ
rabbitmqctl start_app

# ë…¸ë“œ 2 ì—…ê·¸ë ˆì´ë“œ
# ...ë°˜ë³µ
```

**ì´ì **

- ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- ë¬¸ì œ ë°œìƒ ì‹œ ë¡¤ë°± ê°€ëŠ¥
- ì‚¬ìš©ì ì˜í–¥ ìµœì†Œí™”

### 7. **ëª¨ë‹ˆí„°ë§ê³¼ ê´€ë¦¬ íš¨ìœ¨ì„±**

**í†µí•© ê´€ë¦¬**

- í•˜ë‚˜ì˜ Management UIì—ì„œ ì „ì²´ í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸
- ì¤‘ì•™í™”ëœ ë¡œê·¸ ë° ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- ì¼ê´€ëœ ì •ì±… ê´€ë¦¬

**ëª¨ë‹ˆí„°ë§ ë©”íŠ¸ë¦­**

- ë…¸ë“œë³„ ë©”ëª¨ë¦¬/CPU ì‚¬ìš©ë¥ 
- íë³„ ë©”ì‹œì§€ ì ì²´ í˜„í™©
- ë¦¬ë” ë…¸ë“œì˜ ë¶€í•˜ ë¶„ì‚° ìƒíƒœ
- ì»¤ë°‹ ì¸ë±ìŠ¤ì™€ ìŠ¤ëƒ…ìƒ· ì¸ë±ìŠ¤ ì°¨ì´
- ë””ìŠ¤í¬ I/O ì„±ëŠ¥

## ì„œë²„ì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ ì‘ì—… ìˆœì„œ ë° ì£¼ì˜ ì‚¬í•­

### 1. í´ëŸ¬ìŠ¤í„° í†µì‹ ì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ ë° ì„œë²„ê°„ ë°©í™”ë²½ í™•ì¸

RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ì„ êµ¬ì¶•í•  ë•ŒëŠ” ì—¬ëŸ¬ í¬íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ë¥¼ í™•ì¸í•˜ì—¬ ì„œë²„ê°„ ë°©í™”ë²½ì´ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸ì´ ì‘ì—…ì „ì— í•„ìš”í•©ë‹ˆë‹¤.

1. 4369 (epmd - Erlang Port Mapper Daemon)

    ```
    ëª©ì : Erlang ë…¸ë“œ ê°„ í†µì‹ ì„ ìœ„í•œ í¬íŠ¸ ë§¤í•‘
    ```

   RabbitMQëŠ” Erlangìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, Erlang ë…¸ë“œë“¤ì´ ì„œë¡œë¥¼ ì°¾ê¸° ìœ„í•´ epmdë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. epmdëŠ” ê° Erlang ë…¸ë“œê°€ ì‚¬ìš©í•˜ëŠ” ë™ì  í¬íŠ¸ë¥¼ ì¶”ì í•˜ê³ , ë‹¤ë¥¸ ë…¸ë“œê°€ í•´ë‹¹ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

   **4369 í¬íŠ¸ëŠ” ì™œ í•„ìš”í• ê¹Œìš”?**

  - Erlang ë…¸ë“œëŠ” ì‹œì‘ ì‹œ ì„ì˜ì˜ í¬íŠ¸ë¥¼ ì„ íƒí•˜ì—¬ í†µì‹ í•©ë‹ˆë‹¤
  - epmdëŠ” "rabbit@hostname" ê°™ì€ ë…¸ë“œ ì´ë¦„ì„ ì‹¤ì œ í†µì‹  í¬íŠ¸ë¡œ ë§¤í•‘í•´ì¤ë‹ˆë‹¤
  - í´ëŸ¬ìŠ¤í„° ë…¸ë“œë“¤ì´ ì„œë¡œë¥¼ ë°œê²¬í•˜ê³  ì—°ê²°í•˜ëŠ” ì²« ë‹¨ê³„ì…ë‹ˆë‹¤
2. 25672 (ê¸°ë³¸ Erlang ë°°í¬ í¬íŠ¸)

    ```
    ëª©ì : ì‹¤ì œ ë…¸ë“œ ê°„ ë°ì´í„° í†µì‹ 
    ```

   epmdë¥¼ í†µí•´ ë…¸ë“œë¥¼ ì°¾ì€ í›„, ì‹¤ì œ í´ëŸ¬ìŠ¤í„° ë°ì´í„° êµí™˜ì€ ì´ í¬íŠ¸ë¥¼ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. RabbitMQëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `25672` í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì´ëŠ” ì„¤ì •ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

   **ì´ í¬íŠ¸ë¥¼ í†µí•´ ì „ì†¡ë˜ëŠ” ë°ì´í„°**

  - í´ëŸ¬ìŠ¤í„° ë©”íƒ€ë°ì´í„° ë™ê¸°í™”
  - í ë¯¸ëŸ¬ë§ ë°ì´í„°
  - ë‚´ë¶€ í†µì‹  ë©”ì‹œì§€
  - í´ëŸ¬ìŠ¤í„° ìƒíƒœ ì •ë³´

### 2. **Erlang Cookie ë™ì¼ì„± í™•ì¸**

ê°€ì¥ ì¤‘ìš”í•˜ê³  ìì£¼ ì‹¤ìˆ˜í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.

```bash
# ëª¨ë“  ë…¸ë“œì—ì„œ ë™ì¼í•œ ì¿ í‚¤ ê°’ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤
cat /var/lib/rabbitmq/.erlang.cookie
# ë˜ëŠ”
cat ~/.erlang.cookie
```

**ì£¼ì˜ì‚¬í•­**

- ì¿ í‚¤ íŒŒì¼ì˜ ê¶Œí•œì€ ë°˜ë“œì‹œ `400`ì´ì–´ì•¼ í•©ë‹ˆë‹¤
- ì¿ í‚¤ ê°’ì— ê³µë°±ì´ë‚˜ ê°œí–‰ ë¬¸ìê°€ ë“¤ì–´ê°€ë©´ ì•ˆ ë©ë‹ˆë‹¤
- ì¿ í‚¤ë¥¼ ë³€ê²½í•œ í›„ì—ëŠ” RabbitMQë¥¼ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤
- ë³´ì•ˆì„ ìœ„í•´ ê¸°ë³¸ ì¿ í‚¤ ê°’ì„ ë°˜ë“œì‹œ ë³€ê²½í•˜ì„¸ìš”

```bash
# ì˜¬ë°”ë¥¸ ì¿ í‚¤ ì„¤ì • ë°©ë²•
echo "your-secret-cookie-value" > /var/lib/rabbitmq/.erlang.cookie
chmod 400 /var/lib/rabbitmq/.erlang.cookie
chown rabbitmq:rabbitmq /var/lib/rabbitmq/.erlang.cookie
```

### 3. **í˜¸ìŠ¤íŠ¸ë„¤ì„ ì„¤ì •**

RabbitMQëŠ” í˜¸ìŠ¤íŠ¸ë„¤ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ë…¸ë“œë¥¼ ì‹ë³„í•©ë‹ˆë‹¤.

```bash
# /etc/hosts íŒŒì¼ì— ëª¨ë“  í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ì¶”ê°€
192.168.1.101  rabbit@rabbit1
192.168.1.102  rabbit@rabbit2
192.168.1.103  rabbit@rabbit3
```

**ì£¼ì˜ì‚¬í•­**

- ëª¨ë“  ë…¸ë“œì—ì„œ ì„œë¡œì˜ í˜¸ìŠ¤íŠ¸ë„¤ì„ì„ í•´ì„í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
- DNSë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì—­ë°©í–¥ DNSë„ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤
- `hostname` ëª…ë ¹ì–´ë¡œ í™•ì¸í•œ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤
- FQDNì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ëª¨ë“  ë…¸ë“œì—ì„œ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤

### 4. **ë…¸ë“œ ì´ë¦„ ì§€ì •**

```bash
# RabbitMQ ì„¤ì • íŒŒì¼ì—ì„œ ë…¸ë“œ ì´ë¦„ ì§€ì •
# /etc/rabbitmq/rabbitmq.conf
NODENAME=rabbit@rabbit1
```

**ì£¼ì˜ì‚¬í•­**

- ë…¸ë“œ ì´ë¦„ì€ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- í˜•ì‹ì€ `name@hostname` ì´ì–´ì•¼ í•©ë‹ˆë‹¤


> ğŸ¤” ë…¸ë“œ ì´ë¦„ì€ ì™œ ë³€ê²½ í•  ìˆ˜ ì—†ì„ê¹Œìš”?\
> RabbitMQëŠ” Erlangì˜ Mnesia ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ë…¸ë“œ ì´ë¦„ì´ ë°ì´í„° ì €ì¥ êµ¬ì¡°ì˜ í•µì‹¬ ì‹ë³„ìë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
> 1. **Mnesia ë°ì´í„° ë””ë ‰í† ë¦¬ êµ¬ì¡°**
>   ```bash
>   /var/lib/rabbitmq/mnesia/rabbit@rabbit1/
>   â”œâ”€â”€ DECISION_TAB.LOG
>   â”œâ”€â”€ LATEST.LOG
>   â”œâ”€â”€ nodes_running_at_shutdown
>   â”œâ”€â”€ rabbit_durable_exchange.DCD
>   â”œâ”€â”€ rabbit_durable_queue.DCD
>   â””â”€â”€ ...
>   ```
>    - ë…¸ë“œ ì´ë¦„ì´ ë””ë ‰í† ë¦¬ ê²½ë¡œì— í¬í•¨ë¨
>    - ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ ì´ ê²½ë¡œì— ì €ì¥ë¨
> 2. **í´ëŸ¬ìŠ¤í„° ë©”íƒ€ë°ì´í„°**
>   - í´ëŸ¬ìŠ¤í„° êµ¬ì„± ì •ë³´ì— ë…¸ë“œ ì´ë¦„ì´ í•˜ë“œì½”ë”©ë¨
>   - íì˜ ì†Œìœ ê¶Œ, ë³µì œ ì •ë³´ê°€ ë…¸ë“œ ì´ë¦„ìœ¼ë¡œ ì°¸ì¡°ë¨
>   - ì¿¼ëŸ¼ íì˜ ë©¤ë²„ì‹­ ì •ë³´ì— ë…¸ë“œ ì´ë¦„ í¬í•¨
> 3. **Erlang ë¶„ì‚° ì‹œìŠ¤í…œ**
>   - Erlang ë…¸ë“œëŠ” ì‹œì‘ ì‹œ ì´ë¦„ìœ¼ë¡œ ë“±ë¡ë¨
>   - ë‹¤ë¥¸ ë…¸ë“œë“¤ì´ ì´ ì´ë¦„ìœ¼ë¡œ í†µì‹  ì±„ë„ ì„¤ì •
>   - ì´ë¦„ ë³€ê²½ ì‹œ ê¸°ì¡´ ì—°ê²°ì´ ëª¨ë‘ ë¬´íš¨í™”ë¨

### 5. **í´ëŸ¬ìŠ¤í„° ì¡°ì¸ ìˆœì„œ**

```bash
# ì²« ë²ˆì§¸ ë…¸ë“œ (rabbit1)ëŠ” ê·¸ëŒ€ë¡œ ì‹¤í–‰

# ë‘ ë²ˆì§¸ ë…¸ë“œ (rabbit2)ì—ì„œ
rabbitmqctl stop_app
rabbitmqctl reset
rabbitmqctl join_cluster rabbit@rabbit1
rabbitmqctl start_app

# ì„¸ ë²ˆì§¸ ë…¸ë“œ (rabbit3)ì—ì„œ
rabbitmqctl stop_app
rabbitmqctl reset
rabbitmqctl join_cluster rabbit@rabbit1
rabbitmqctl start_app

```

**ì£¼ì˜ì‚¬í•­**

- `reset` ëª…ë ¹ì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤
- ìš´ì˜ ì¤‘ì¸ ë…¸ë“œë¥¼ í´ëŸ¬ìŠ¤í„°ì— ì¶”ê°€í•  ë•ŒëŠ” ì‹ ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ë…¸ë“œì”© ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤

### 6. í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸

```bash
# í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸
rabbitmqctl cluster_status

# ë…¸ë“œ ìƒíƒœ í™•ì¸
rabbitmqctl node_health_check

# ì¿¼ëŸ¼ í ìƒíƒœ í™•ì¸
rabbitmqctl list_queues name type leader members online

# ì¿¼ëŸ¼ í ë©¤ë²„ ìƒíƒœ í™•ì¸
rabbitmqctl list_queues name policy members online \
  | grep quorum

# íŠ¹ì • ì¿¼ëŸ¼ íì˜ ìƒì„¸ ì •ë³´
rabbitmqctl list_queues name messages_ready messages_unacknowledged \
  leader members online --formatter json

```

## ë§ˆì¹˜ë©°

í´ëŸ¬ìŠ¤í„° í™˜ê²½ì—ì„œëŠ” ë‹¨ì¼ ë…¸ë“œë³´ë‹¤ ì•½ê°„ì˜ ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œê°€ ìˆì§€ë§Œ, ì–»ê²Œ ë˜ëŠ” ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì€ ê·¸ ì´ìƒì˜ ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì¿¼ëŸ¼ íë¥¼ ì‚¬ìš©í•˜ë©´ Raft í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ê°•ë ¥í•œ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¥ë°›ì„ ìˆ˜ ìˆì–´ ì•ˆì •ì ì¸ ìš´ì˜ ì‹œìŠ¤í…œì— í•„ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì‘ì—… ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í†µí•´ ì €ëŠ” ì•Œë¦¼ ì‹œìŠ¤í…œì— RabbitMQ í´ëŸ¬ìŠ¤í„°ë§ì ìš©í•˜ì˜€ê³ , Grafanaë¡œ ëª¨ë‹ˆí„°ë§í•˜ë©´ì„œ ë¬¸ì œê°€ ì—†ëŠ”ì§€ë„ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©ììˆ˜ê°€ ëŠ˜ì–´ íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ì—¬ RabbitMQì˜ ìˆ˜í‰í™•ì¥ì˜ í•œê³„ì— ë¶€ë”ªíŒë‹¤ë©´ ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì— ìš©ì´í•œ kafkaë¡œì˜ ì „í™˜ë„ ê³ ë ¤í•˜ë©´ì„œ ì•„í‚¤í…ì²˜ë¥¼ ê°œì„ í•  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥ ì¤‘ì…ë‹ˆë‹¤.

## ì°¸ê³ 

- [RabbitMQ ê³µì‹ í´ëŸ¬ìŠ¤í„°ë§ ê°€ì´ë“œ](https://www.rabbitmq.com/clustering.html)
- [RabbitMQ ê³ ê°€ìš©ì„± ê°€ì´ë“œ](https://www.rabbitmq.com/ha.html)
- [Erlang Cookie ë¬¸ì„œ](https://www.rabbitmq.com/clustering.html#erlang-cookie)
