---
title: "3,500만건 DB 데이터 지연쿼리 개선기"
description: "3,500만건 DB 데이터 지연쿼리 개선을 어떻게 적용했는지에 대해 소개합니다."
date: 2025-01-07 +22:00:00
categories: [Blogging,db]
---

## 이슈: 타임라인 쿼리에서 특정 조건 검색 시 costs가 높아 지연

특정 앱의 타임라인 조회 API에서 지연 발생 및 높은 costs가 확인되었습니다. 하루 약 1만 3천 건의 요청 중, 응답 시간이 2초 이상 소요된 요청은 96건으로 비율은 낮지만, 최대 응답 시간이 55초에 달해 문제가 됩니다. 이로 인해 DB 서버 성능 저하를 초래할 수 있어, 쿼리 성능 개선 작업을 진행하기로 했습니다.

![2024-01-07-01.png](/assets/img/db/2024-12-30-db-01.png)

![2024-01-07-02.png](/assets/img/db/2024-12-30-db-02.png)

